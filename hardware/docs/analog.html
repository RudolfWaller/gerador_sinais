<!DOCTYPE html>
<html lang="pt-BR">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Esquemático - Gerador de Sinais HC-SR08</title>
    <style>
        body {
            font-family: Arial, sans-serif;
            margin: 20px;
            background: white;
        }
        .schematic {
            background: white;
            border: 2px solid #333;
            margin: 20px 0;
        }
        .component {
            fill: #f0f0f0;
            stroke: #333;
            stroke-width: 2;
        }
        .wire {
            stroke: #333;
            stroke-width: 2;
            fill: none;
        }
        .label {
            font-family: Arial, sans-serif;
            font-size: 12px;
            fill: #333;
        }
        .value {
            font-family: Arial, sans-serif;
            font-size: 10px;
            fill: #666;
        }
        .title {
            font-family: Arial, sans-serif;
            font-size: 16px;
            font-weight: bold;
            fill: #333;
        }
        .power {
            stroke: red;
            stroke-width: 1.5;
        }
        .ground {
            stroke: #333;
            stroke-width: 2;
        }
    </style>
</head>
<body>
    <h1>Gerador de Sinais - Circuito Completo</h1>
    
    <div class="schematic">
        <svg width="1200" height="800" viewBox="0 0 1200 800">
            <!-- Título -->
            <text x="600" y="30" class="title" text-anchor="middle">HC-SR08 Signal Generator - Complete Circuit</text>
            
            <!-- HC-SR08 Module -->
            <rect x="50" y="80" width="100" height="60" class="component"/>
            <text x="100" y="105" class="label" text-anchor="middle">HC-SR08</text>
            <text x="100" y="120" class="value" text-anchor="middle">0-1V, 1Vpp</text>
            <line x1="150" y1="110" x2="200" y2="110" class="wire"/>
            <text x="175" y="105" class="value" text-anchor="middle">SINAL</text>
            
            <!-- Buffer U1 -->
            <polygon points="220,90 220,130 280,110" class="component"/>
            <text x="250" y="105" class="label" text-anchor="middle">U1</text>
            <text x="250" y="118" class="value" text-anchor="middle">LTC6248</text>
            <text x="250" y="145" class="value" text-anchor="middle">Buffer</text>
            <line x1="200" y1="110" x2="220" y2="110" class="wire"/>
            <line x1="280" y1="110" x2="320" y2="110" class="wire"/>
            
            <!-- Divisor para duas saídas -->
            <circle cx="340" cy="110" r="3" class="component"/>
            <line x1="320" y1="110" x2="340" y2="110" class="wire"/>
            <line x1="340" y1="110" x2="340" y2="180" class="wire"/>
            <line x1="340" y1="180" x2="390" y2="180" class="wire"/>
            <line x1="340" y1="110" x2="390" y2="110" class="wire"/>
            
            <!-- Amplificador para 74HC14 (U2) -->
            <polygon points="390,160 390,200 450,180" class="component"/>
            <text x="420" y="175" class="label" text-anchor="middle">U2</text>
            <text x="420" y="188" class="value" text-anchor="middle">LTC6248</text>
            <text x="420" y="215" class="value" text-anchor="middle">Ganho 3x</text>
            
            <!-- Resistores do amplificador -->
            <rect x="460" y="170" width="40" height="8" class="component"/>
            <text x="480" y="165" class="value" text-anchor="middle">R1=4.7k</text>
            <line x1="450" y1="180" x2="460" y2="180" class="wire"/>
            <line x1="500" y1="180" x2="520" y2="180" class="wire"/>
            <line x1="500" y1="174" x2="500" y2="140" class="wire"/>
            <line x1="500" y1="140" x2="380" y2="140" class="wire"/>
            <line x1="380" y1="140" x2="380" y2="190" class="wire"/>
            <line x1="380" y1="190" x2="390" y2="190" class="wire"/>
            
            <rect x="360" y="190" width="30" height="6" class="component"/>
            <text x="375" y="205" class="value" text-anchor="middle">R2=1.5k</text>
            
            <!-- Saída para 74HC14 -->
            <rect x="540" y="160" width="80" height="40" class="component"/>
            <text x="580" y="175" class="label" text-anchor="middle">74HC14</text>
            <text x="580" y="188" class="value" text-anchor="middle">0-3V</text>
            <line x1="520" y1="180" x2="540" y2="180" class="wire"/>
            
            <!-- VCA810 -->
            <rect x="390" y="90" width="100" height="50" class="component"/>
            <text x="440" y="110" class="label" text-anchor="middle">VCA810</text>
            <text x="440" y="125" class="value" text-anchor="middle">±40dB</text>
            <line x1="390" y1="115" x2="370" y2="115" class="wire"/>
            <line x1="370" y1="115" x2="370" y2="110" class="wire"/>
            <line x1="370" y1="110" x2="340" y2="110" class="wire"/>
            
            <!-- Controle de ganho DAC1 -->
            <rect x="300" y="50" width="60" height="25" class="component"/>
            <text x="330" y="67" class="label" text-anchor="middle">ESP32</text>
            <text x="330" y="45" class="value" text-anchor="middle">DAC1</text>
            <line x1="360" y1="62" x2="390" y2="62" class="wire"/>
            <line x1="390" y1="62" x2="390" y2="95" class="wire"/>
            <text x="395" y="80" class="value">VC</text>
            
            <!-- Saída do VCA810 -->
            <line x1="490" y1="115" x2="530" y2="115" class="wire"/>
            
            <!-- Somador de Offset (U3) -->
            <polygon points="550,95 550,135 610,115" class="component"/>
            <text x="580" y="110" class="label" text-anchor="middle">U3</text>
            <text x="580" y="123" class="value" text-anchor="middle">LTC6248</text>
            <text x="580" y="150" class="value" text-anchor="middle">Somador</text>
            
            <!-- Resistores do somador -->
            <rect x="530" y="105" width="20" height="6" class="component"/>
            <text x="540" y="100" class="value" text-anchor="middle">R3=10k</text>
            
            <rect x="530" y="125" width="20" height="6" class="component"/>
            <text x="540" y="140" class="value" text-anchor="middle">R4=10k</text>
            
            <!-- DAC2 para offset -->
            <rect x="450" y="250" width="60" height="25" class="component"/>
            <text x="480" y="267" class="label" text-anchor="middle">ESP32</text>
            <text x="480" y="245" class="value" text-anchor="middle">DAC2</text>
            <line x1="510" y1="262" x2="530" y2="262" class="wire"/>
            <line x1="530" y1="262" x2="530" y2="131" class="wire"/>
            
            <!-- Feedback do somador -->
            <rect x="620" y="105" width="30" height="6" class="component"/>
            <text x="635" y="100" class="value" text-anchor="middle">R5=10k</text>
            <line x1="610" y1="115" x2="620" y2="115" class="wire"/>
            <line x1="650" y1="108" x2="670" y2="108" class="wire"/>
            <line x1="670" y1="108" x2="670" y2="90" class="wire"/>
            <line x1="670" y1="90" x2="540" y2="90" class="wire"/>
            <line x1="540" y1="90" x2="540" y2="105" class="wire"/>
            
            <!-- Driver de Saída 50Ω (U4) -->
            <polygon points="700,95 700,135 760,115" class="component"/>
            <text x="730" y="110" class="label" text-anchor="middle">U4</text>
            <text x="730" y="123" class="value" text-anchor="middle">LT1210</text>
            <text x="730" y="150" class="value" text-anchor="middle">Driver 50Ω</text>
            
            <line x1="650" y1="115" x2="700" y2="115" class="wire"/>
            <line x1="760" y1="115" x2="800" y2="115" class="wire"/>
            
            <!-- Resistor de saída 50Ω -->
            <rect x="800" y="110" width="40" height="8" class="component"/>
            <text x="820" y="105" class="value" text-anchor="middle">50Ω</text>
            <line x1="840" y1="115" x2="880" y2="115" class="wire"/>
            
            <!-- Conector BNC -->
            <circle cx="900" cy="115" r="15" class="component"/>
            <text x="900" y="120" class="label" text-anchor="middle">BNC</text>
            <text x="900" y="140" class="value" text-anchor="middle">OUT</text>
            <line x1="880" y1="115" x2="885" y2="115" class="wire"/>
            
            <!-- Especificações de saída -->
            <text x="950" y="110" class="label">Saída Programável:</text>
            <text x="950" y="125" class="value">0.1Vpp - 10Vpp</text>
            <text x="950" y="140" class="value">Offset: ±5V</text>
            <text x="950" y="155" class="value">Z out: 50Ω</text>
            
            <!-- Saída 74HC14 specs -->
            <text x="650" y="175" class="label">Saída Digital:</text>
            <text x="650" y="190" class="value">0V - 3V</text>
            <text x="650" y="205" class="value">Para 74HC14</text>
            
            <!-- Alimentação -->
            <text x="50" y="300" class="title">Alimentação:</text>
            <text x="50" y="320" class="value">±5V para VCA810, LT1210</text>
            <text x="50" y="335" class="value">+3.3V para LTC6248</text>
            <text x="50" y="350" class="value">+5V para 74HC14</text>
            
            <!-- Ground symbols -->
            <g class="ground">
                <line x1="100" y1="150" x2="100" y2="170"/>
                <line x1="95" y1="170" x2="105" y2="170"/>
                <line x1="97" y1="173" x2="103" y2="173"/>
                <line x1="99" y1="176" x2="101" y2="176"/>
            </g>
            
            <g class="ground">
                <line x1="375" y1="200" x2="375" y2="220"/>
                <line x1="370" y1="220" x2="380" y2="220"/>
                <line x1="372" y1="223" x2="378" y2="223"/>
                <line x1="374" y1="226" x2="376" y2="226"/>
            </g>
            
            <g class="ground">
                <line x1="540" y1="145" x2="540" y2="165"/>
                <line x1="535" y1="165" x2="545" y2="165"/>
                <line x1="537" y1="168" x2="543" y2="168"/>
                <line x1="539" y1="171" x2="541" y2="171"/>
            </g>
            
            <g class="ground">
                <line x1="820" y1="125" x2="820" y2="145"/>
                <line x1="815" y1="145" x2="825" y2="145"/>
                <line x1="817" y1="148" x2="823" y2="148"/>
                <line x1="819" y1="151" x2="821" y2="151"/>
            </g>
            
            <!-- Linhas de alimentação (simplificadas) -->
            <line x1="50" y1="400" x2="1000" y2="400" class="power"/>
            <text x="525" y="395" class="value" text-anchor="middle">+5V Supply Rail</text>
            
            <line x1="50" y1="420" x2="1000" y2="420" class="power"/>
            <text x1="525" y="415" class="value" text-anchor="middle">-5V Supply Rail</text>
            
            <line x1="50" y1="440" x2="1000" y2="440" class="ground"/>
            <text x="525" y="435" class="value" text-anchor="middle">Ground</text>
            
            <!-- Lista de componentes -->
            <text x="50" y="500" class="title">Lista de Componentes:</text>
            <text x="50" y="520" class="label">U1, U2, U3: LTC6248 (Quad Op-Amp, 180MHz)</text>
            <text x="50" y="535" class="label">U4: LT1210 (High Current Op-Amp)</text>
            <text x="50" y="550" class="label">VCA810: Variable Gain Amplifier</text>
            <text x="50" y="565" class="label">R1: 4.7kΩ, R2: 1.5kΩ</text>
            <text x="50" y="580" class="label">R3, R4, R5: 10kΩ</text>
            <text x="50" y="595" class="label">R_out: 50Ω</text>
            
            <!-- ESP32 Controls -->
            <text x="50" y="650" class="title">Controles ESP32:</text>
            <text x="50" y="670" class="label">DAC1 (GPIO25): Controle de ganho (0.1x - 100x)</text>
            <text x="50" y="685" class="label">DAC2 (GPIO26): Offset ±5V via amp diferencial</text>
            <text x="50" y="700" class="label">Fórmula: Voffset = 3.03 × (DAC2 - 1.65V)</text>
            
            <!-- Performance -->
            <text x="50" y="700" class="title">Performance:</text>
            <text x="50" y="720" class="label">Bandwidth: 35MHz (VCA810)</text>
            <text x="50" y="735" class="label">Noise: 2.4nV/√Hz</text>
            <text x="50" y="750" class="label">Gain Range: ±40dB</text>
        </svg>
    </div>
    
    <h2>Como salvar o esquemático:</h2>
    <ol>
        <li>Clique com o botão direito na imagem do circuito</li>
        <li>Selecione "Salvar imagem como..." ou "Save image as..."</li>
        <li>Escolha o formato PNG ou JPG</li>
        <li>Salve no seu computador</li>
    </ol>
    
    <p><strong>Alternativa:</strong> Use a tecla Print Screen para capturar a tela e colar em um editor de imagens.</p>
</body>
</html>
